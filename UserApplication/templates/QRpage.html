{% extends "base.html" %}

{% block content %}
    <h1 class="w3-center "><b>New SIM Card Registration</b></h1>
    <h3 class="w3-center w3-text-theme"><b>Aadhaar card QR verfication</b></h3>
    <div class="w3-container w3-row">
        <div class="w3-col w3-quarter"><p> </p></div>
        <div class="w3-col w3-half w3-center">
            <div class="w3-panel w3-card-2 w3-theme-l5 w3-padding-16">
            <form class="w3-center" method="POST" action="/QRprocess">
                <!--method="POST" action="/verify_otp"-->
                <br>
                    <h4>Verify you're not the ROBOT</h4>
                    <h4>Scan your Aadhar card QR code</h4>
                    <br>
                    <p>(Make sure that you scan your QR code with good lightening)</p>
                    <br>
                    <div class="w3-col">
                    <img src="{{ url_for('video_feed') }}" alt="Video Stream" style="width: 50%;"><br><br>
                    <button class="w3-button w3-aqua w3-round">Start Scan</button>
                    </div>
                    <br> <br>
            </form>
            </div>
        </div>
        <div class="w3-col w3-quarter"><p> </p></div>
    </div>
    <br>

<div id="scanshow" class="w3-modal">
        <div class="w3-modal-content w3-animate-zoom">
            <div class="w3-container w3-center">
                <span onclick="document.getElementById('scanbutton').style.display='none'" class="w3-button w3-display-topright">&times;</span>
                <img src="{{ url_for('video_feed') }}" alt="Video Stream" style="width: 50%;"> <br>
            </div>
        </div>
    </div>


<script>

    // JavaScript to show the modal
        document.getElementById("scanbutton").addEventListener("click", function (event) {
            event.preventDefault(); // Prevent the form from submitting
            document.getElementById("scanshow").style.display = "block";
        });

</script>

{% endblock %}